# 변수

## 변수란 무엇인가?

**변수** 는 하나의 값을 저장하기 위해 확보한 메모리 공간 또는 그 메모리 공간을 식별하기 위해 붙힌 이름을 말한다.

→ 값의 위치를 가르키는 상징적인 이름이다.

10 + 20을 할때 10,20이 메모리에 저장되고 30도 메모리에 저장이 된다. 하지만 이 30이란 값을 재사용하고 싶다면 직접 30이 있는 메모리 공간에 접근을 해야한다. 하지만 개발자가 직접 메모리 주소를 통해 접근하는것은 치명적인 오류를 발생시킬 가능성이 높다.

상징적인 이름인 **변수는 프로그래밍 언어의 컴파일러로 메모리 공간의 주소로 치환되어 실행된다.**

```javascript
const num = 1;
```

여기서 num은 변수이름, 1은 변수 값이 된다.

---

## 식별자란 무엇인가?

변수 이름을 **식별자** 라고도 한다.

**식별자** 란 어떤 값을 구별해서 식별할수 있는 고유한 이름을 말한다.

값은 메모리 공간에 저장되어 있기에 식별자는 메모리 공간에 저장되어있는 특정 값을 구별하여 식별해낼수 있어야한다.

위의 예시에서 num은 값 1을 식별할수 있다. 이를 위해 num은 1이 저장되어 있는 메모리(0x00...)를 기억해야한다. 즉 식별자는 값이 아니라 **메모리 주소를 기억하고 있다.**

메모리 상에서 존재하는 어떤 값을 식별할수 있는 이름은 모두 식별자이다.

식별자라는 용어는 변수 이름 뿐만 아니라 함수,클래스도 모두 식별자이다. 이 식별자들은 선언을 통하여 자바스크립트를 식별할수 있다.

<img src="./asset/식별자.png" />

---

## 변수 선언

**변수 선언** 은 값을 저장하기 위한 메모리 공간의 확보, 확보된 메모리와 변수이름을 연결, 과정으로 이루어진다.

변수를 사용하려면 반드시 선언을 해줘야한다. 변수 선언은 2단계를 걸쳐 수행한다.

- 선언 단계: 변수 이름을 등록해서 자바스크립트 엔진에 변수의 존재를 알린다.
- 초기화 단계: 값을 저장하기 위한 메모리공간을 확보하고 암묵적으로 undefined를 할당해 초기화한다.(var 사용시)

---

## 변수 선언의 실행 시점과 변수 호이스팅

```jsx
console.log(score); //undefined

var score;
```

선언을 하는 코드 실행전에 콘솔에서 score를 찍었는데 에러가 아니 undefined가 나온다.

그 이유는 소스코드가 **한줄씩 순차적으로 실행되는 시점, 즉 런타임이 아니라 그 이전단계에 먼저 실행되기 때문이다.**

자바스크립트 엔진은 런타임전에 소스코드의 **평가**과정을 먼저 거친다.

이때 모든 선언문을 소스코드의 **평가** 과정에서 먼저 실행한다.

이러면 변수 선언문이 코드의 선두로 끌어 올려지는것처럼 실행하는데 이것을 **변수 호이스팅** 이라고 부른다.

---

## 값의 할당

```jsx
var score = 80;
```

이코드에서 실제로 변수의 선언과 할당은 다른시점에 실행된다. 먼저 런타임 전인 소스코드의 평가를 할때 score가 메모리 공간에 저장되고 값을 할당하는것은 순차적으로 실행하는 런타임 환경에 실행된다.

<img src="./asset/값의할당.png"/>

값의 할당에서는 원래 undefined로 할당된 메모리 공간에 덮어 쓰는것이 아니라 새로운 메모리 공간을 재할당후 80을 저장한다.

이떄 값의 재할당으로

```jsx
var score = 80;
score = 90;
```

이렇게 작성하면 위의 그림과 동일하게 90을 새로운 메모리 공간에 저장을 한다. 그럼 이미 할당되어있는 undefined와 80에 의해서 메모리의 손실이 나지 않을까라고 고민할수 있지만 그것들은 자바스크립트의 **가비지 콜렉터** 에 의해서 자동으로 해제가 된다.
