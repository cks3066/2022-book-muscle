## 모던 자바스크립트 Deep Dive - Ch4 변수
### 변수란?
- 하나의 값을 저장하기 위해 확보한 메모리 공간 자체
- 그 메모리 공간을 식별하기 위해 붙인 이름

<br>

### 필요한 이유
- 메모리 주소를 이용해서 직접 값에 접근하는 방법은 위험한 작업이다.
    - 운영체제가 관리하는 메모리 영역을 실수로 접근하면 시스템이 중지될 수 있다.
- 사람이 이해할 수 있는 언어로 이름을 짓고, 메모리 주소와 연결하기 떄문에 저장된 값의 의미를 파악할 수 있다.

<br>

### 할당과 참조
- 변수에 값을 저장하는 것을 **할당(대입, 저장)**이라 한다.
- 변수에 저장된 값을 읽어 들이는 것을 **참조**라 한다.

<br>

### 식별자(Identifier)
- 변수 이름을 **식별자**라고 한다.
- 식별자는 값이 아니라 메모리 주소를 기억하고 있다.
    - 식별자는 값이 저장된 메모리 주소와 매핑 관계를 맺으며, 이 관계는 메모리에 저장되어야 한다.
    - 식별자는 메모리 주소에 붙인 이름이다.

<br>

### 변수 선언
- 값을 저장하기 위한 메모리 공간을 확보하고, 변수 이름과 확보한 메모리 공간을 연결해서 값을 저장할 수 있게 준비하는 것
- 변수를 사용하기 위해서는 var, let, const와 같은 키워드로 변수를 선언하는 과정이 반드시 필요하다.
    - 만약 선언하지 않은 식별자에 접근하게 되면 ReferenceError(참조 에러)가 발생한다.
- 변수 선언은 총 2단계를 거처 시행된다.
    - 선언 단계: 변수 이름을 등록해서 자바스크립트 엔진에 변수의 존재를 알린다.
    - 초기화 단계: 값을 저장하기 위한 메모리 공간을 확보하고 암묵적으로 undefined를 할당해서 초기화한다.

```javascript
// 아래 코드를 실행하면
// test라는  식별자 이름과 메모리의 한 주소 공간이 매핑된다.
// test와 매핑된 메모리 주소에는 undefined 값이 저장되어 있다.
var test;
```

<br>

### 변수 선언 시점
- javascript의 소스코드는 총 2단계를 거쳐 실행된다.
    - 소스코드 평가 단계: 코드 내에서 선언문을 모두 실행한다.
    - 소스코드 실행 단계: 런타임 과정으로 선언문을 제외한 소스코드를 순차적으로 실행한다.
    - 즉, 변수의 선언은 소스코드 평가 단계에서 발생한다. 
    - 소스코드 평가 단계에서 변수의 선언문이 먼저 실행되기 떄문에, 변수의 선언문 보다 참조문이 소스코드 위쪽에 있어도 ReferenceError(참조 에러)가 발생하지 않는다.
        - 이런 현상을 **변수 호이스팅**이라고 한다.
    
    ```javascript
        console.log(test) // undefined

        var test = 10;
    ```
❗️ 변수 호이스팅
- 변수 선언문이 코드의 선두로 끌어 올려진 것처럼 동작하는 자바스크립트 고유의 특징
    
<br>

### 값의 할당
- javascript는 변수의 선언과 값의 할당이 하나의 문(statement)으로 표현되어 있어도 두 개의 문으로 나누어 각각을 실행한다.
    - 변수의 선언은 소스코드 평가 시점에 실행된다.
    - 값의 할당은 런타임 시점에 실행된다.
- 아래 코드의 1번과 2번은 동일하게 동작을 한다.

```javascript
// 1번 변수 선언문과 값의 할당 구문을 분리
var test;
test = 100


// 2번 변수 선언문과 값의 할당 구문을 하나의 문으로 작성
// 하나의 문으로 작성되어 있지만, 변수의 선언과 값의 할당이 따로 실행된다.
var test = 100;
```

- 값을 할당하는 과정은 식별자와 연결된 메모리 공간에 기존 값을 삭제히고 새로운 값을 저장하는 것이 아니라, 새로운 메모리 공간을 확보하고 그곳에 새로운 값을 저장한 후 식별자와 매핑 시키는 것이다.
    - 변수 선언 시 초기화된 값(undefined)의 메모리 주소와 새롭게 할당하는 값의 메모리 주소가 서로 다르다.
